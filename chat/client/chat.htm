<html>
	<head>
		<style type="text/css">
			body, input {
				font-family: Terminal;
				background-color : black;
			}
			#messages {
				display:block;
				width: 100%;
				height: 70%;
				overflow-y : scroll ;
			}
			#send {
				width: 84.5%;
			}
			#user {
				width: 9%;
			}
			#button {
				width : 5%
			}
			#panel {
				background-color : black
			}
			#messages, input {
				background-color : black;
				color : green;
				font-size : small
			}
		</style>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">

		</script>
		<script>
			function getMessages(){
				$.getJSON("http://{IP_ADDRESS}:{PORT}/chat/messages",
					function(data) {
						$('#messages').empty()
						var messages = data.messages.split('\n')
						messages.forEach(function(data){
							$('#messages').append("<p>"+data+"</p>");
						})
					}
				);
			}
			function clear(){
				$('#send').val('')
				$('#send').focus()
			}				
			function send(text, id){
			console.log($('#user').val())
				$.ajax({
					url: 'http://{IP_ADDRESS}:{PORT}/chat/messages?send='+text+'&id='+id,
					type: 'PUT',
					success: function(response) {
						console.log(response)
					}
				});
			}			
			$(document).ready(function(){
				$('#button').click(function(){
					send($('#send').val(),$('#user').val());
					clear();
				});
				$('#send').keypress(function(e){
					if(e.which == 13) {
						send($('#send').val(),$('#user').val());
						clear();
					}
				});
         		window.setInterval(function(){
					getMessages();
				}, 750);
			});
		</script>
	</head>
	<body>
		<div id="messages"></div>
		<br/>
		<div id="panel">
			<input id="user" type="text"/>
			<input id="send" type="text"/>
			<input type="button" value="Send" id="MyButton" >
		</div>
</body>
</html>